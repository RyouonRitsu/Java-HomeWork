<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Java 程序设计 LAB05 #  实验目的： #   理解静多态和动多态的概念 理解多态的必要性和实现机制 理解并灵活使用方法重载和方法覆盖 理解并灵活使用抽象类和抽象方法 理解接口的必要性（将接口用作 API） 掌握如何定义接口、实现接口 将接口用作类型、使用接口回调 理解并掌握接口的继承 面向接口的编程 简单了解 Object 类 掌握良好重写 Object 类中方法的能力  实验题目 #  Question01 多态 1 输出/简答题 #  阅读下面这段代码：
// Test.java class PrivateOverride {  private void f() { 	System.out.println(&#34;private f()&#34;);  }   public static void main(String[] args) { 	PrivateOverride po = new Derived(); 	po.f();  } }  class Derived extends PrivateOverride {  public void f() { 	System."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Java 程序设计 LAB05 #  实验目的： #   理解静多态和动多态的概念 理解多态的必要性和实现机制 理解并灵活使用方法重载和方法覆盖 理解并灵活使用抽象类和抽象方法 理解接口的必要性（将接口用作 API） 掌握如何定义接口、实现接口 将接口用作类型、使用接口回调 理解并掌握接口的继承 面向接口的编程 简单了解 Object 类 掌握良好重写 Object 类中方法的能力  实验题目 #  Question01 多态 1 输出/简答题 #  阅读下面这段代码：
// Test.java class PrivateOverride {  private void f() { 	System.out.println(&#34;private f()&#34;);  }   public static void main(String[] args) { 	PrivateOverride po = new Derived(); 	po.f();  } }  class Derived extends PrivateOverride {  public void f() { 	System."><meta property="og:type" content="article"><meta property="og:url" content="https://Super-BUAA-2021.github.io/Java-HomeWork/docs/OOP-LAB/LAB05/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-04-08T15:23:55+08:00"><title>Lab05 | 面向对象的程序设计</title><link rel=manifest href=/Java-HomeWork/manifest.json><link rel=icon href=/Java-HomeWork/favicon.png type=image/x-icon><link rel=stylesheet href=/Java-HomeWork/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous><script defer src=/Java-HomeWork/flexsearch.min.js></script>
<script defer src=/Java-HomeWork/en.search.min.a6b60ff34082f9b41bf28084869e08100f75147b7d005c8eae03ab307c458f8c.js integrity="sha256-prYP80CC+bQb8oCEhp4IEA91FHt9AFyOrgOrMHxFj4w=" crossorigin=anonymous></script>
<script defer src=/Java-HomeWork/sw.min.e3fe574a0a73f41ab65bfa422f0900e37d2b9d2ca50572cea3deaf158cc4bdee.js integrity="sha256-4/5XSgpz9Bq2W/pCLwkA430rnSylBXLOo96vFYzEve4=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/Java-HomeWork/><span>面向对象的程序设计</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/Java-HomeWork/docs/OOP-LAB/>Oop Lab</a><ul><li><a href=/Java-HomeWork/docs/OOP-LAB/LAB00/>Lab00</a></li><li><a href=/Java-HomeWork/docs/OOP-LAB/LAB01/>Lab01</a></li><li><a href=/Java-HomeWork/docs/OOP-LAB/LAB02/>Lab02</a></li><li><a href=/Java-HomeWork/docs/OOP-LAB/LAB03/>Lab03</a></li><li><a href=/Java-HomeWork/docs/OOP-LAB/LAB04/>Lab04</a></li><li><a href=/Java-HomeWork/docs/OOP-LAB/LAB05/ class=active>Lab05</a></li><li><a href=/Java-HomeWork/docs/OOP-LAB/LAB06/>Lab06</a></li><li><a href=/Java-HomeWork/docs/OOP-LAB/LAB07/>Lab07</a></li><li><a href=/Java-HomeWork/docs/OOP-LAB/TEMPLATE/>Template</a></li></ul></li><li><span>Cts</span><ul><li><a href=/Java-HomeWork/docs/CTS/CTS-1/>Cts 1</a></li><li><a href=/Java-HomeWork/docs/CTS/CTS-2/>Cts 2</a></li><li><a href=/Java-HomeWork/docs/CTS/CTS-3/>Cts 3</a></li><li><a href=/Java-HomeWork/docs/CTS/CTS-4/>Cts 4</a></li></ul></li><li><a href=/Java-HomeWork/docs/Resource/>Resource</a><ul></ul></li></ul><ul><li><a href=https://github.com/Super-BUAA-2021/Java-HomeWork target=_blank rel=noopener>Github</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/Java-HomeWork/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Lab05</strong>
<label for=toc-control><img src=/Java-HomeWork/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#java-程序设计-lab05>Java 程序设计 LAB05</a><ul><li><a href=#实验目的>实验目的：</a></li><li><a href=#实验题目>实验题目</a><ul><li><a href=#question01-多态-1-输出简答题>Question01 多态 1 <code>输出/简答题</code></a><ul><li><a href=#题外话>题外话：</a></li></ul></li><li><a href=#question02-多态-2-输出简答题>Question02 多态 2 <code>输出/简答题</code></a></li><li><a href=#question03-多态-3-输出简答题>Question03 多态 3 <code>输出/简答题</code></a></li><li><a href=#question04-多态-4-输出简答题>Question04 多态 4 <code>输出/简答题</code></a></li><li><a href=#question05-shapefactory-1-编程题>Question05 ShapeFactory 1 <code>编程题</code></a><ul><li><a href=#题外话-1>题外话：</a></li></ul></li><li><a href=#question06-overloadoverride-简答题>Question06 Overload？Override？ <code>简答题</code></a><ul><li><a href=#题外话-2>题外话：</a></li></ul></li></ul></li><li><a href=#附加题>附加题</a><ul><li><a href=#extra-1-策略模式strategy-pattern-编程题>Extra 1 策略模式（Strategy Pattern） <code>编程题</code></a><ul><li><a href=#题外话-3>题外话：</a></li></ul></li><li><a href=#extra-2-真工厂方法模式-编程题>Extra 2 真·工厂方法模式 <code>编程题</code></a><ul><li><a href=#题外话-4>题外话：</a></li></ul></li><li><a href=#extra-3-匿名类的-shapefactory-编程题>Extra 3 匿名类的 ShapeFactory <code>编程题</code></a><ul><li><a href=#题外话-5>题外话：</a></li></ul></li><li><a href=#extra-4-命令模式-编程题>Extra 4 命令模式 <code>编程题</code></a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=java-程序设计-lab05>Java 程序设计 LAB05
<a class=anchor href=#java-%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1-lab05>#</a></h1><h2 id=实验目的>实验目的：
<a class=anchor href=#%e5%ae%9e%e9%aa%8c%e7%9b%ae%e7%9a%84>#</a></h2><ul><li>理解静多态和动多态的概念</li><li>理解多态的必要性和实现机制</li><li>理解并灵活使用方法重载和方法覆盖</li><li>理解并灵活使用抽象类和抽象方法</li><li>理解接口的必要性（将接口用作 API）</li><li>掌握如何定义接口、实现接口</li><li>将接口用作类型、使用接口回调</li><li>理解并掌握接口的继承</li><li>面向接口的编程</li><li>简单了解 Object 类</li><li>掌握良好重写 Object 类中方法的能力</li></ul><h2 id=实验题目>实验题目
<a class=anchor href=#%e5%ae%9e%e9%aa%8c%e9%a2%98%e7%9b%ae>#</a></h2><h3 id=question01-多态-1-输出简答题>Question01 多态 1 <code>输出/简答题</code>
<a class=anchor href=#question01-%e5%a4%9a%e6%80%81-1-%e8%be%93%e5%87%ba%e7%ae%80%e7%ad%94%e9%a2%98>#</a></h3><p>阅读下面这段代码：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>// Test.java
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>PrivateOverride</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>f</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;private f()&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	PrivateOverride po <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Derived<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>	po<span style=color:#f92672>.</span><span style=color:#a6e22e>f</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Derived</span> <span style=color:#66d9ef>extends</span> PrivateOverride <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>f</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;public f()&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Test</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	PrivateOverride<span style=color:#f92672>.</span><span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>args<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><ul><li>运行 <code>java Test</code>，程序的输出是什么？</li><li>如果将父类中的方法声明为 public，而子类为 private，编译能通过吗？如果能，最后 会输出什么？</li></ul><h4 id=题外话>题外话：
<a class=anchor href=#%e9%a2%98%e5%a4%96%e8%af%9d>#</a></h4><p>private 方法被默认是 final 的</p><h3 id=question02-多态-2-输出简答题>Question02 多态 2 <code>输出/简答题</code>
<a class=anchor href=#question02-%e5%a4%9a%e6%80%81-2-%e8%be%93%e5%87%ba%e7%ae%80%e7%ad%94%e9%a2%98>#</a></h3><p>阅读下面这段代码：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>// Test.java
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Super</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> field <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>getField</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> field<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Sub</span> <span style=color:#66d9ef>extends</span> Super <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> field <span style=color:#f92672>=</span> 1<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>getField</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> field<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>getSuperField</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>field</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Test</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	Super sup <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Sub<span style=color:#f92672>();</span> <span style=color:#75715e>// Upcast
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;sup.field = &#34;</span> <span style=color:#f92672>+</span> sup<span style=color:#f92672>.</span><span style=color:#a6e22e>field</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;, sup.getField() = &#34;</span> <span style=color:#f92672>+</span> sup<span style=color:#f92672>.</span><span style=color:#a6e22e>getField</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>	Sub sub <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Sub<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>	System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;sub.field = &#34;</span> <span style=color:#f92672>+</span> sub<span style=color:#f92672>.</span><span style=color:#a6e22e>field</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;, sub.getField() = &#34;</span> <span style=color:#f92672>+</span> sub<span style=color:#f92672>.</span><span style=color:#a6e22e>getField</span><span style=color:#f92672>()</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;, sub.getSuperField() = &#34;</span> <span style=color:#f92672>+</span> sub<span style=color:#f92672>.</span><span style=color:#a6e22e>getSuperField</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><ul><li>运行 java Test，程序的输出是什么？</li><li>类的非静态属性能体现多态性吗？</li></ul><h3 id=question03-多态-3-输出简答题>Question03 多态 3 <code>输出/简答题</code>
<a class=anchor href=#question03-%e5%a4%9a%e6%80%81-3-%e8%be%93%e5%87%ba%e7%ae%80%e7%ad%94%e9%a2%98>#</a></h3><p>阅读下面这段代码：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>// Test.java
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>StaticSuper</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>staticGet</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;Base staticGet()&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>dynamicGet</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;Base dynamicGet()&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>StaticSub</span> <span style=color:#66d9ef>extends</span> StaticSuper <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> String <span style=color:#a6e22e>staticGet</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;Derived staticGet()&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>dynamicGet</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;Derived dynamicGet()&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Test</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	StaticSuper sup <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> StaticSub<span style=color:#f92672>();</span> <span style=color:#75715e>// Upcast
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>StaticSuper<span style=color:#f92672>.</span><span style=color:#a6e22e>staticGet</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>	System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>sup<span style=color:#f92672>.</span><span style=color:#a6e22e>dynamicGet</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><ul><li>运行 java Test，程序的输出是什么？</li><li>类的静态属性和静态方法能体现多态性吗？</li></ul><h3 id=question04-多态-4-输出简答题>Question04 多态 4 <code>输出/简答题</code>
<a class=anchor href=#question04-%e5%a4%9a%e6%80%81-4-%e8%be%93%e5%87%ba%e7%ae%80%e7%ad%94%e9%a2%98>#</a></h3><p>阅读下面这段代码：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>// Test.java
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>A</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>draw</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;A.draw()&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  A<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;A() before draw()&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>	draw<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>	System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;A() after draw()&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>B</span> <span style=color:#66d9ef>extends</span> A <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>int</span> b <span style=color:#f92672>=</span> 1<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  B<span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> b<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> b<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>	System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;B(), b = &#34;</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>b</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>draw</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;B.draw(), b = &#34;</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>b</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Test</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>new</span> B<span style=color:#f92672>(</span>5<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><ul><li>运行 java Test，程序的输出是什么？</li><li>结合之前实验的初始化顺序和多态，给出程序这样输出的解释。</li></ul><h3 id=question05-shapefactory-1-编程题>Question05 ShapeFactory 1 <code>编程题</code>
<a class=anchor href=#question05-shapefactory-1-%e7%bc%96%e7%a8%8b%e9%a2%98>#</a></h3><p>在 LAB04 的 <code>Shape</code> 的基础上，实现一个满足如下需求的 <code>ShapeFactory</code> 类：</p><ul><li>提供一个 <code>ShapeType</code> 的枚举类，其中有表示矩形、菱形、椭圆的枚举量；</li><li>具有方法 <code>public Shape makeShape(ShapeType type, double a, double b)</code> ，返回 一个由 type 指定类型，a 和 b 指定大小的形状；<ul><li>参数不合法时，返回 null 或抛出异常</li></ul></li><li>具有方法 <code>public Shape randomNextShape()</code> ，返回一个随机类型，随机大小的形状；<ul><li>随机得到的形状要合法</li><li>不能随机出来 null</li></ul></li></ul><p>编写测试类：</p><ul><li>使用以上的两种生成形状的方式，分别随机生成五个形状并存储到 Shape 类型的 数组（或其他容器）中，最后使用 foreach 循环将他们的面积输出</li></ul><p><strong>注意：不能修改上一次的 <code>Shape</code>。</strong></p><h4 id=题外话-1>题外话：
<a class=anchor href=#%e9%a2%98%e5%a4%96%e8%af%9d-1>#</a></h4><p>这题不是设计模式中的工厂方法模式（factory method pattern）。本题中的工厂，如果你为 Shape 添加了一个新的子类（比如直角三角形类），那么你就需要给 ShapeType 添加新的枚举量，还要重新写 makeShape
和 randomNextShape。</p><h3 id=question06-overloadoverride-简答题>Question06 Overload？Override？ <code>简答题</code>
<a class=anchor href=#question06-overloadoverride-%e7%ae%80%e7%ad%94%e9%a2%98>#</a></h3><p>阅读下面这段代码：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#75715e>// Test.java
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>I0</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>f</span><span style=color:#f92672>();</span> <span style=color:#75715e>// 默认是 abstract public 的
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>I1</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>f</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>I2</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> 2<span style=color:#f92672>;</span> <span style=color:#75715e>// 默认是 static public final 的
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>f</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>I3</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>int</span> a <span style=color:#f92672>=</span> 3<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>f</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>I4</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>f</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Test01</span> <span style=color:#66d9ef>implements</span> I0<span style=color:#f92672>,</span> I1 <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>f</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Test02</span> <span style=color:#66d9ef>implements</span> I0<span style=color:#f92672>,</span> I2 <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>f</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>f</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> 0<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Test23</span> <span style=color:#66d9ef>implements</span> I2<span style=color:#f92672>,</span> I3 <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>f</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> a<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>f</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> i<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><ul><li>这段程序是无法通过编译的，都有哪些原因呢？尝试从继承、覆盖、重载的角度考虑。</li><li>如果 I1 extends I0，会引入新的错误吗？I2、I3 也 extends I0 呢？</li></ul><h4 id=题外话-2>题外话：
<a class=anchor href=#%e9%a2%98%e5%a4%96%e8%af%9d-2>#</a></h4><ul><li>在任何支持多重继承的语言中，多个父类拥有相同的函数名都会带来误会，如果不是万不得已，千万不要这么做。</li><li>还有更多复杂的情况：<ul><li>比如 class B extends A implements I</li><li>比如 class A implements I1，class B extends A implements I2</li><li>更多情况请自行尝试并理解。</li></ul></li></ul><h2 id=附加题>附加题
<a class=anchor href=#%e9%99%84%e5%8a%a0%e9%a2%98>#</a></h2><blockquote><p>附加题可以在时间不充足时先略过，但请务必在完成作业期间或者完成后完成一遍，附加题包括的知识点并不重复，甚至更为重要，放到附加题不代表这些题是不重要的</p><p>话句话说， 你在提交实验报告的时候， 可以不完成下面的题目。</p><p>只要完成了基础的 6 个题目，即可拿到本次实验的全部分数</p></blockquote><h3 id=extra-1-策略模式strategy-pattern-编程题>Extra 1 策略模式（Strategy Pattern） <code>编程题</code>
<a class=anchor href=#extra-1-%e7%ad%96%e7%95%a5%e6%a8%a1%e5%bc%8fstrategy-pattern-%e7%bc%96%e7%a8%8b%e9%a2%98>#</a></h3><p>如果一些方法只保留了业务中逻辑固定不变的部分，只依据参数的不同来产生不同的行为，符合这样的方法，就是符合策略模式（Strategy Pattern）。</p><p>接口经常用于策略模式。定义 <code>interface ITextProcess</code>：</p><ul><li>具有方法 <code>String process(String s)</code></li></ul><p>利用 <code>interface ITextProcess</code> 完成几个类：</p><ul><li><code>class Splitter</code>，其 <code>process</code> 方法将 s 中的所有空格都去掉。</li><li><code>class UpperCaseProcessor</code>，其 <code>process</code> 方法将 s 中的所有字符都变为大写的。</li><li><code>class SnakeCaseProcessor</code>，其 <code>process</code> 方法将 s 转变为 <code>snake_case</code><ul><li>snake_case 指的是不用空格而用下划线分隔单词</li><li>I hate ddl -> I_hate_ddl</li><li>have a good time -> have_a_good_time</li></ul></li></ul><p>编写测试类：</p><ul><li>提供方法<code>public static void process(ITextProcess p, String s)</code>，在其中使用 p 处理 s，并输出处理结果</li><li>在 main 中测试你的功能</li></ul><h4 id=题外话-3>题外话：
<a class=anchor href=#%e9%a2%98%e5%a4%96%e8%af%9d-3>#</a></h4><p>本题中，业务逻辑不变的是使用一个文本处理器处理文本，变化的是使用的处理器和文本内容。测试类的 process 方法是符合策略模式的。这样可以保证也实现了 ITextProcess
的类在添加到系统时，无需对原有代码产生影响，在这种情况下，保证了原有代码的可复用性。interface 在这里的作用，就是定义一个标准，定义一种框架。如果没有 interface，那么我们就需要像第五题的 ShapeFacotry
一样，通过参数指定处 理器的类型，为原有代码增加更多的特殊情况判断。</p><p>使用 interface 而不使用继承的另一个原因是：现实场景下，Splitter 等可能需要继承其他类，而 TextProcess 并没有必须要有的属性，所以没有必要让他们都继承一个 abstract class
TextProcessor。如果出现了不得不同时继承多个类的情况，后续实验会提到装饰器模式（Decorator Pattern），也可以通过拆解类结构来化继承为组合。</p><h3 id=extra-2-真工厂方法模式-编程题>Extra 2 真·工厂方法模式 <code>编程题</code>
<a class=anchor href=#extra-2-%e7%9c%9f%e5%b7%a5%e5%8e%82%e6%96%b9%e6%b3%95%e6%a8%a1%e5%bc%8f-%e7%bc%96%e7%a8%8b%e9%a2%98>#</a></h3><p>在 LAB04 的 Shape 的基础上，定义一个满足如下需求的 <code>IShapeFactory</code> 接口：</p><ul><li>具有方法 <code>Shape makeShape(double a, double b)</code> ，返回一个由 a 和 b 指定大小的形状；<ul><li>参数不合法时，返回 null 或抛出异常</li></ul></li></ul><p>为每一种形状编写它的工厂类：</p><ul><li>比如生成矩形的工厂类 <code>RectangleFactory</code> 要 implements 接口 <code>IShapeFactory</code>。</li></ul><p>编写测试类 <code>ShapeFactoriesTest</code>：</p><ul><li>具有 static 方法 <code>Shape makeShape(IShapeFactory factory, double a, double b)</code> ，在其中使用 <code>factory.makeShape(a, b)</code>方法生成形状并返回</li><li>在 main 方法中声明所有 3 种工厂，将他们存入一个 <code>IShapeFactory</code> 类型的数组（或其他容器）</li><li>对工厂数组（或容器）使用 <strong>foreach</strong> 循环遍历，利用 <code>ShapeFactories.makeShape</code>方法生成所有种类的形状并输出他们的面积</li></ul><h4 id=题外话-4>题外话：
<a class=anchor href=#%e9%a2%98%e5%a4%96%e8%af%9d-4>#</a></h4><p>这题才是设计模式中的工厂方法模式（factory method pattern），第五题虽然也是比较常用的“工厂”，但并不是工厂方法模式，甚至不是一个专门的设计模式。</p><p>工厂方法模式将实例化延迟到子类，由专门的工厂类生成特定类型的产品（比如 Shape）。本次实验没有关于 Random
的需求，主要是因为设计上的问题，他和本题的初衷“简单了解工厂方法模式”不符，它不是特定的，它需要知道所有的类型信息，类似本题中的 ShapeFactoriesTest 的地位。</p><p>第五题中的方法，需要使用诸如 ShapeType 的标准来指定类型，这就导致了如果有新 的需求（新的形状种类）出现，整个 ShapeFactory
类都要重新编写并编译。而使用工厂方法模式，你需要做的是编写一个新的工厂类并编译这个新的类，对原有的工厂代码无需进行修改（重构过的同学应该能体会到“不用修改代码”是一种多么幸福的事）。编写的时候可能觉得引入过多的类比较反人类，但是程序不是开发出来就完事了，还有维护和迭代更新。提倡在开工之前的设计环节为未来做足打算，但是也不要因此变成设计狂魔。上机题是为了在比较小的工作量下让大家了解基础内容，所以才会抽象出各种各样不现实的场景。如果像某次实验的“文件”那样，在工作量上并不友好。本题的
ShapeFactories.makeShape 也是策略模式的应用。</p><h3 id=extra-3-匿名类的-shapefactory-编程题>Extra 3 匿名类的 ShapeFactory <code>编程题</code>
<a class=anchor href=#extra-3-%e5%8c%bf%e5%90%8d%e7%b1%bb%e7%9a%84-shapefactory-%e7%bc%96%e7%a8%8b%e9%a2%98>#</a></h3><p>在前面实验的 <code>Shape</code> 的基础上，定义一个满足如下需求的 <code>IShapeFactory</code> 接口：</p><ul><li>具有方法 <code>Shape makeShape(double a, double b)</code> ，返回一个由 a 和 b 指定大小的 形状；<ul><li>参数不合法时，返回 null 或抛出异常</li></ul></li></ul><p>用单例模式+工厂方法模式的思想修改矩形、椭圆、菱形类：</p><ul><li>每一个类都增设一个 <code>private static IShapeFactory factory</code> 字段<ul><li>类中的 factory 用于生成该类的形状对象<ul><li>比如 Rectangle 类中的 factory，其 makeShape 方法返回 Rectangle 对象</li></ul></li><li>直接使用匿名类为 factory 进行静态初始化，不允许像 ShapeFactory2 那样定义工厂类</li></ul></li><li>进行其他的修改，使外界的其他类能够获取到 factory 并成功构造形状对象</li></ul><p>选择你认为合适的方式编写测试类：</p><ul><li>你的测试类应该能够覆盖到所有等价类。</li><li>测试形式可以是单元测试，被测对象的形式可以参考之前实验中的 <code>ShapeFactoriesTest.makeShape</code> 方法。</li><li>在代码注释中（或者与代码一起提交一个 readme），描述你的测试计划</li></ul><h4 id=题外话-5>题外话：
<a class=anchor href=#%e9%a2%98%e5%a4%96%e8%af%9d-5>#</a></h4><p>使用匿名类，依然是为每一个形状创建了一个对应的工厂，因此本质上依然是工厂方法模式，区别在于不用显式定义新的类（据说编码过程中，起名字是最麻烦的事情）。</p><p>工厂方法模式的应用中，每一种工厂通常只有一个实例，因此它经常和单例模式一起被使用。</p><h3 id=extra-4-命令模式-编程题>Extra 4 命令模式 <code>编程题</code>
<a class=anchor href=#extra-4-%e5%91%bd%e4%bb%a4%e6%a8%a1%e5%bc%8f-%e7%bc%96%e7%a8%8b%e9%a2%98>#</a></h3><p>我们来模拟一个酒吧的点餐过程</p><p>实现一个酒吧类 <code>Bar</code>：柜台上可以点炒饭（为了防止测试工程师炸掉酒吧），啤酒，伏特加。</p><p>实现一个测试工程师类 <code>Engineer</code>：有很多很多钱可以用来点炒饭。</p><p>实现一个满足如下需求的 <code>interface ICommand</code>：</p><ul><li>具有方法 <code>void excute()</code></li></ul><p>利用 <code>interface ICommand</code>，实现如下四个具体命令类：</p><ul><li>买炒饭 <code>BuyEggFriedRice(Bar bar, int num)</code><ul><li>含义是在酒吧 <code>bar</code> 中点 <code>num</code> 份炒饭， 该命令在执行时需要调用 bar 的相关方法， 下同</li></ul></li><li>买啤酒 <code>BuyBeer(Bar bar, int num)</code></li><li>买伏特加 <code>BuyVodka(Bar bar, int num)</code></li><li>消费 x 元 <code>SpendMoney(Engineer engineer, double money)</code></li></ul><p>实现一个执行类 <code>Executor</code> 负责接收并执行上述命令</p><ul><li>具有方法： <code>void add(ICommand command)</code> 含义是添加一个命令</li><li>具有方法： <code>void run()</code> 含义是执行所有命令</li></ul><p>最终，你应该可以跑通下面的测试函数，当然你也可以自行设计其他的测试代码</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    Bar bar <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Bar<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    Engineer engineer1 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Engineer<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    Engineer engineer2 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Engineer<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 点一份炒饭 + 啤酒， 花费 30 元
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    Executor executor1 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Executor<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    executor1<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> BuyBeer<span style=color:#f92672>(</span>bar<span style=color:#f92672>,</span> 1<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>    executor1<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> BuyEggFriedRice<span style=color:#f92672>(</span>bar<span style=color:#f92672>,</span> 1<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>    executor1<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> SpendMoney<span style=color:#f92672>(</span>engineer1<span style=color:#f92672>,</span> 50<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>    executor1<span style=color:#f92672>.</span><span style=color:#a6e22e>run</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 点两份炒饭， AA，每人 20 元
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    Executor executor2 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Executor<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    executor2<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> BuyBeer<span style=color:#f92672>(</span>bar<span style=color:#f92672>,</span> 2<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>    executor2<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> SpendMoney<span style=color:#f92672>(</span>engineer1<span style=color:#f92672>,</span> 50<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>    executor2<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> SpendMoney<span style=color:#f92672>(</span>engineer2<span style=color:#f92672>,</span> 50<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>    executor1<span style=color:#f92672>.</span><span style=color:#a6e22e>run</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/alex-shpak/hugo-book/commit/c4e800dd9600a60a8356bd7839481947f9b37361 title="Last modified by withinlover | April 8, 2022" target=_blank rel=noopener><img src=/Java-HomeWork/svg/calendar.svg class=book-icon alt=Calendar>
<span>April 8, 2022</span></a></div><div><a class="flex align-center" href=https://github.com/alex-shpak/hugo-book/edit/main/exampleSite/content/docs/OOP-LAB/LAB05.md target=_blank rel=noopener><img src=/Java-HomeWork/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script><script>MathJax={tex:{inlineMath:[["$","$"]]},displayMath:[["$$","$$"],["[[","]]"]],svg:{fontCache:"global"}}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#java-程序设计-lab05>Java 程序设计 LAB05</a><ul><li><a href=#实验目的>实验目的：</a></li><li><a href=#实验题目>实验题目</a><ul><li><a href=#question01-多态-1-输出简答题>Question01 多态 1 <code>输出/简答题</code></a><ul><li><a href=#题外话>题外话：</a></li></ul></li><li><a href=#question02-多态-2-输出简答题>Question02 多态 2 <code>输出/简答题</code></a></li><li><a href=#question03-多态-3-输出简答题>Question03 多态 3 <code>输出/简答题</code></a></li><li><a href=#question04-多态-4-输出简答题>Question04 多态 4 <code>输出/简答题</code></a></li><li><a href=#question05-shapefactory-1-编程题>Question05 ShapeFactory 1 <code>编程题</code></a><ul><li><a href=#题外话-1>题外话：</a></li></ul></li><li><a href=#question06-overloadoverride-简答题>Question06 Overload？Override？ <code>简答题</code></a><ul><li><a href=#题外话-2>题外话：</a></li></ul></li></ul></li><li><a href=#附加题>附加题</a><ul><li><a href=#extra-1-策略模式strategy-pattern-编程题>Extra 1 策略模式（Strategy Pattern） <code>编程题</code></a><ul><li><a href=#题外话-3>题外话：</a></li></ul></li><li><a href=#extra-2-真工厂方法模式-编程题>Extra 2 真·工厂方法模式 <code>编程题</code></a><ul><li><a href=#题外话-4>题外话：</a></li></ul></li><li><a href=#extra-3-匿名类的-shapefactory-编程题>Extra 3 匿名类的 ShapeFactory <code>编程题</code></a><ul><li><a href=#题外话-5>题外话：</a></li></ul></li><li><a href=#extra-4-命令模式-编程题>Extra 4 命令模式 <code>编程题</code></a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>